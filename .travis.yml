language: scala

dist: xenial

scala:
  - 2.11.12
  - 2.10.7
  - 2.12.10
  - 2.13.1

sudo: false

jdk:
  - openjdk8

matrix:
  include:
    - scala: 2.12.10
      jdk: openjdk11
    - scala: 2.11.12
      jdk: openjdk8
      env: SCALA_NATIVE
      sudo: required
      before_install:
      - curl https://raw.githubusercontent.com/scala-native/scala-native/master/scripts/travis_setup.sh | bash -x
      script:
      - sbt ++$TRAVIS_SCALA_VERSION "applybuilderNative/test:run"

script:
  - sbt ++${TRAVIS_SCALA_VERSION} update compile test:compile applybuilderJS/test:run applybuilderJVM/test:run
